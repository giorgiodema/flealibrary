  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (234.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "flealibrary_development"[0m
  [1m[35m (223.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "flealibrary_test"[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7461772034015038740)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (45.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "surname" character varying, "username" character varying, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "1"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeUsernameTypeInUsers (2)
  [1m[35m (40.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ALTER "username" DROP NOT NULL[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "2"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRoleToUsers (3)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (43.3ms)[0m  [1m[35mALTER TABLE "users" ADD "role" character varying DEFAULT 'booklover'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "3"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChatMigration (4)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (43.0ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "owner_id" bigint, "guest_id" bigint)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_owner_id" ON "chats"  ("owner_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_guest_id" ON "chats"  ("guest_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_a229e37047"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_d21eee654c"
FOREIGN KEY ("guest_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "text" character varying, "read" boolean, "from" integer DEFAULT 0, "chat_id" bigint)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "4"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAds (5)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "ads" ("id" bigserial primary key, "list_type" integer, "book_title" character varying, "book_authors" character varying, "link_to_coverbook" character varying, "publisher" character varying, "identifier" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_ads_on_user_id" ON "ads"  ("user_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ads" ADD CONSTRAINT "fk_rails_400d8fa7ce"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "5"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUsers (6)
  [1m[35m (40.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmed_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_sent_at" timestamp[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_username" ON "users"  ("username")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "6"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageToUsers (7)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "image" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "7"]]
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGoogleIdToAds (8)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ads" ADD "google_id" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "8"]]
  [1m[35m (36.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLocateOptionToUsers (9)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "cap" character varying NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "radius" character varying NOT NULL[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "9"]]
  [1m[35m (39.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFavourites (20180605112913)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "favourites" ("id" bigserial primary key, "user_id" bigint, "ad_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_favourites_on_user_id" ON "favourites"  ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_favourites_on_ad_id" ON "favourites"  ("ad_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180605112913"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20180607150535)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user_id" bigint, "ad_id" bigint)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_ad_id" ON "notifications"  ("ad_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_5b4eb0e1e4"
FOREIGN KEY ("ad_id")
  REFERENCES "ads" ("id")
[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180607150535"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-06-08 19:51:26.627043"], ["updated_at", "2018-06-08 19:51:26.627043"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7461772034015038740)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "dante@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dante"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "surname", "username", "email", "encrypted_password", "created_at", "updated_at", "role", "cap", "radius") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "dante"], ["surname", "alighieri"], ["username", "dante"], ["email", "dante@gmail.com"], ["encrypted_password", "$2a$11$vMx3wyWFXwAS9bDKaKZq8ult8J3bTxHjidD1KtOYto.HgzSh1l076"], ["created_at", "2018-06-08 19:51:30.984736"], ["updated_at", "2018-06-08 19:51:30.984736"], ["role", "superadmin"], ["cap", "00184"], ["radius", "10"]]
  [1m[35m (39.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "giorgio@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "giorgio"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "surname", "username", "email", "encrypted_password", "created_at", "updated_at", "role", "cap", "radius") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "giorgio"], ["surname", "dema"], ["username", "giorgio"], ["email", "giorgio@gmail.com"], ["encrypted_password", "$2a$11$GdC9etUhlv7zp4CpVbdThuAV4Y4U/iPqRcHOoQfTpXDIlt0v7XR7i"], ["created_at", "2018-06-08 19:51:31.179815"], ["updated_at", "2018-06-08 19:51:31.179815"], ["role", "admin"], ["cap", "00123"], ["radius", "10"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "vincenzo@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vincenzo"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "surname", "username", "email", "encrypted_password", "created_at", "updated_at", "role", "cap", "radius") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "vincenzo"], ["surname", "cas"], ["username", "vincenzo"], ["email", "vincenzo@gmail.com"], ["encrypted_password", "$2a$11$9r3w.Le8GEhc3.yNogGXyeABNRjjqEVKFRHhq4DCFMqq1D4S/AGhG"], ["created_at", "2018-06-08 19:51:31.336560"], ["updated_at", "2018-06-08 19:51:31.336560"], ["role", "admin"], ["cap", "00015"], ["radius", "10"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "flavia@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "flavia"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "surname", "username", "email", "encrypted_password", "created_at", "updated_at", "role", "cap", "radius") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "flavia"], ["surname", "mon"], ["username", "flavia"], ["email", "flavia@gmail.com"], ["encrypted_password", "$2a$11$FAPw/H5u7rez/JRkCRTYWeLZKDi0oKmKhrPlobzDs1yvTmomJBJnK"], ["created_at", "2018-06-08 19:51:31.494980"], ["updated_at", "2018-06-08 19:51:31.494980"], ["role", "admin"], ["cap", "00015"], ["radius", "0"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "owner_id", "guest_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2018-06-08 19:51:31.525743"], ["updated_at", "2018-06-08 19:51:31.525743"], ["owner_id", 2], ["guest_id", 3]]
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "read", "chat_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2018-06-08 19:51:31.593924"], ["updated_at", "2018-06-08 19:51:31.593924"], ["text", "Ciao vincenzone porcone"], ["read", "t"], ["chat_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "read", "from", "chat_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2018-06-08 19:51:31.597403"], ["updated_at", "2018-06-08 19:51:31.597403"], ["text", "Ciao giorgio, sei bellissimo"], ["read", "t"], ["from", 1], ["chat_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "owner_id", "guest_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2018-06-08 19:51:31.600064"], ["updated_at", "2018-06-08 19:51:31.600064"], ["owner_id", 2], ["guest_id", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "read", "chat_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2018-06-08 19:51:31.602552"], ["updated_at", "2018-06-08 19:51:31.602552"], ["text", "Ciao Fla, come stai?"], ["read", "t"], ["chat_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "read", "from", "chat_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2018-06-08 19:51:31.604858"], ["updated_at", "2018-06-08 19:51:31.604858"], ["text", "Ciao Gio, bene tu? stai studiando?"], ["read", "t"], ["from", 1], ["chat_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:51:40 +0200
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:51:40 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/" for 127.0.0.1 at 2018-06-08 21:51:43 +0200
Processing by HomeController#welcome as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/welcome.html.erb within layouts/application
  [1m[36mAd Load (0.7ms)[0m  [1m[34mSELECT "ads".* FROM "ads"[0m
  Rendered home/welcome.html.erb within layouts/application (30.0ms)
Completed 200 OK in 1318ms (Views: 1225.5ms | ActiveRecord: 11.1ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:51:44 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:51:44 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:51:44 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:51:51 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:51:51 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/" for 127.0.0.1 at 2018-06-08 21:51:55 +0200
Processing by HomeController#welcome as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering home/welcome.html.erb within layouts/application
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads"[0m
  Rendered home/welcome.html.erb within layouts/application (2.9ms)
Completed 200 OK in 51ms (Views: 45.0ms | ActiveRecord: 0.8ms)


Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:51:55 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:51:55 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/" for 127.0.0.1 at 2018-06-08 21:51:56 +0200
Processing by HomeController#welcome as HTML
  Rendering home/welcome.html.erb within layouts/application
  [1m[36mAd Load (0.3ms)[0m  [1m[34mSELECT "ads".* FROM "ads"[0m
  Rendered home/welcome.html.erb within layouts/application (3.0ms)
Completed 200 OK in 54ms (Views: 50.2ms | ActiveRecord: 0.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:51:56 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:51:56 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:51:56 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:51:56 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:52:02 +0200
Processing by Users::SessionsController#new as HTML
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (22.7ms)
Completed 200 OK in 79ms (Views: 75.5ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:52:02 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:52:02 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:52:02 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started POST "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:52:06 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QwfmtHLb5/Gzqr0QPDS+OljZ5JJ7PRbbM1tX3gCEE2AAGnEyympZk60qrPMuX2V+B/s9LrWBJf0E5YOc4y+zSQ==", "user"=>{"email"=>"giorgio@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "giorgio@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "current_sign_in_ip" = $3, "last_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["current_sign_in_at", "2018-06-08 19:52:06.291145"], ["last_sign_in_at", "2018-06-08 19:52:06.291145"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2018-06-08 19:52:06.292910"], ["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users/profile/2
Completed 302 Found in 206ms (ActiveRecord: 3.2ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:52:06 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (56.4ms)
  Rendered home/profile.html.erb within layouts/application (205.3ms)
Completed 500 Internal Server Error in 228ms (ActiveRecord: 10.4ms)


  
ActionView::Template::Error (undefined method `favourite_list_path' for #<#<Class:0x00007fd414214e78>:0x00007fd41434fb30>
Did you mean?  favourite_path
               favourites_path):
    42:                 MY LIBRARY
    43:             </p>
    44:             <%if @user.id == current_user.id %>
    45:                 <%= link_to "Favourite list", favourite_list_path(:list_type => 0, :id => @user.id), class:"list-group-item list-group-item-action" %>
    46:             <% end %> <!--non voglio mostrare i favoriti e la modifica del profilo delgi altri utenti -->
    47:             <%= link_to "Wish list", wish_list_path(:list_type => 1, :id => @user.id),class:"list-group-item list-group-item-action"%>
    48:             <%= link_to "Gift list", gift_list_path(:list_type => 2, :id => @user.id),class:"list-group-item list-group-item-action"%>
  
app/views/home/profile.html.erb:45:in `_app_views_home_profile_html_erb___2180455331135340236_70274448016180'
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:52:07 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:52:58 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (9.6ms)
  Rendered home/profile.html.erb within layouts/application (161.3ms)
Completed 500 Internal Server Error in 177ms (ActiveRecord: 3.0ms)


  
ActionView::Template::Error (undefined method `favourites_list_path' for #<#<Class:0x00007fd414214e78>:0x00007fd41672f758>
Did you mean?  favourites_path):
    42:                 MY LIBRARY
    43:             </p>
    44:             <%if @user.id == current_user.id %>
    45:                 <%= link_to "Favourite list", favourites_list_path(:list_type => 0, :id => @user.id), class:"list-group-item list-group-item-action" %>
    46:             <% end %> <!--non voglio mostrare i favoriti e la modifica del profilo delgi altri utenti -->
    47:             <%= link_to "Wish list", wish_list_path(:list_type => 1, :id => @user.id),class:"list-group-item list-group-item-action"%>
    48:             <%= link_to "Gift list", gift_list_path(:list_type => 2, :id => @user.id),class:"list-group-item list-group-item-action"%>
  
app/views/home/profile.html.erb:45:in `_app_views_home_profile_html_erb___2180455331135340236_70274425233720'
Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:53:18 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (10.3ms)
  Rendered home/_chats_index.html.erb (2.0ms)
  Rendered home/profile.html.erb within layouts/application (24.2ms)
Completed 200 OK in 79ms (Views: 70.4ms | ActiveRecord: 3.0ms)


Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:53:18 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:18 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/favourites?id=2&list_type=0" for 127.0.0.1 at 2018-06-08 21:53:23 +0200
Processing by FavouritesController#index as HTML
  Parameters: {"id"=>"2", "list_type"=>"0"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering favourites/index.html.erb within layouts/application
  [1m[36mFavourite Load (0.8ms)[0m  [1m[34mSELECT "favourites".* FROM "favourites" WHERE "favourites"."user_id" = $1[0m  [["user_id", 2]]
  Rendered favourites/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 80ms (Views: 46.3ms | ActiveRecord: 2.9ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:53:25 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (9.5ms)
  Rendered home/_chats_index.html.erb (1.5ms)
  Rendered home/profile.html.erb within layouts/application (18.9ms)
Completed 200 OK in 71ms (Views: 62.6ms | ActiveRecord: 3.2ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:25 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:53:25 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:25 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/wish_list?id=2&list_type=1" for 127.0.0.1 at 2018-06-08 21:53:27 +0200
Processing by AdsController#wish as HTML
  Parameters: {"id"=>"2", "list_type"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/wish.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 1]]
  Rendered _ads_list.html.erb (2.3ms)
  Rendered ads/wish.html.erb within layouts/application (5.5ms)
Completed 200 OK in 59ms (Views: 53.2ms | ActiveRecord: 1.0ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:53:28 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (10.4ms)
  Rendered home/_chats_index.html.erb (1.7ms)
  Rendered home/profile.html.erb within layouts/application (20.7ms)
Completed 200 OK in 81ms (Views: 71.7ms | ActiveRecord: 3.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:29 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:53:29 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:29 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/gift_list?id=2&list_type=2" for 127.0.0.1 at 2018-06-08 21:53:29 +0200
Processing by AdsController#gift as HTML
  Parameters: {"id"=>"2", "list_type"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/gift.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 2]]
  Rendered _ads_list.html.erb (2.6ms)
  Rendered ads/gift.html.erb within layouts/application (6.1ms)
Completed 200 OK in 69ms (Views: 61.3ms | ActiveRecord: 1.2ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:53:31 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (10.4ms)
  Rendered home/_chats_index.html.erb (1.5ms)
  Rendered home/profile.html.erb within layouts/application (20.5ms)
Completed 200 OK in 75ms (Views: 65.8ms | ActiveRecord: 3.4ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:31 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:53:31 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:31 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:53:41 +0200
Processing by Users::SessionsController#new as HTML
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 63ms (Views: 62.1ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:41 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:53:41 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:41 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started POST "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:53:44 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p5wX/OzDHaAhmkhsf0pnME3ut42YXtPNXPgzQC4tZKh/YC1RXx91VfmFxq3Z+ds+a++PSEzF7Pt6RCK6g2oiTw==", "user"=>{"email"=>"vincenzo@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vincenzo@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "current_sign_in_ip" = $3, "last_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["current_sign_in_at", "2018-06-08 19:53:44.560401"], ["last_sign_in_at", "2018-06-08 19:53:44.560401"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2018-06-08 19:53:44.561404"], ["id", 3]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users/profile/3
Completed 302 Found in 187ms (ActiveRecord: 4.4ms)


Started GET "/users/profile/3" for 127.0.0.1 at 2018-06-08 21:53:44 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 3 OR guest_id = 3)[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (7.2ms)
  Rendered home/_chats_index.html.erb (1.2ms)
  Rendered home/profile.html.erb within layouts/application (39.0ms)
Completed 200 OK in 89ms (Views: 81.3ms | ActiveRecord: 2.4ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:44 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:53:44 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:53:44 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_3
Started POST "/send_message" for 127.0.0.1 at 2018-06-08 21:53:56 +0200
Processing by ChatsController#receive as JSON
  Parameters: {"msg"=>{"chat_id"=>"1", "text"=>"anche tu"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "chat_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2018-06-08 19:53:56.953484"], ["updated_at", "2018-06-08 19:53:56.953484"], ["text", "anche tu"], ["chat_id", 1]]
  [1m[35m (40.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
[ActionCable] Broadcasting to mailbox_3: {:type=>"message", :chat_id=>1, :text=>"anche tu"}
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 42.9ms)


MailboxChannel transmitting {"type"=>"message", "chat_id"=>1, "text"=>"anche tu"} (via streamed from mailbox_3)
Started POST "/delete_chat" for 127.0.0.1 at 2018-06-08 21:54:03 +0200
Processing by ChatsController#delete_chat as JSON
  Parameters: {"chat_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] Broadcasting to mailbox_2: {:type=>"delete_chat", :chat_id=>1}
[ActionCable] Broadcasting to mailbox_3: {:type=>"delete_chat", :chat_id=>1}
MailboxChannel transmitting {"type"=>"delete_chat", "chat_id"=>1} (via streamed from mailbox_2)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
MailboxChannel transmitting {"type"=>"delete_chat", "chat_id"=>1} (via streamed from mailbox_3)
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "chats" WHERE "chats"."id" = $1[0m  [["id", 1]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 6.7ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (219.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "flealibrary_development"[0m
  [1m[35m (200.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "flealibrary_test"[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7461772034015038740)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "surname" character varying, "username" character varying, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "1"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeUsernameTypeInUsers (2)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ALTER "username" DROP NOT NULL[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "2"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRoleToUsers (3)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.3ms)[0m  [1m[35mALTER TABLE "users" ADD "role" character varying DEFAULT 'booklover'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "3"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChatMigration (4)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "owner_id" bigint, "guest_id" bigint)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_owner_id" ON "chats"  ("owner_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_guest_id" ON "chats"  ("guest_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_a229e37047"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_d21eee654c"
FOREIGN KEY ("guest_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "text" character varying, "read" boolean, "from" integer DEFAULT 0, "chat_id" bigint)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "4"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAds (5)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ads" ("id" bigserial primary key, "list_type" integer, "book_title" character varying, "book_authors" character varying, "link_to_coverbook" character varying, "publisher" character varying, "identifier" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_ads_on_user_id" ON "ads"  ("user_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ads" ADD CONSTRAINT "fk_rails_400d8fa7ce"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "5"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUsers (6)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmed_at" timestamp[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_sent_at" timestamp[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_username" ON "users"  ("username")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "6"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageToUsers (7)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "image" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "7"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGoogleIdToAds (8)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ads" ADD "google_id" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "8"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLocateOptionToUsers (9)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "cap" character varying NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "radius" character varying NOT NULL[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "9"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFavourites (20180605112913)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "favourites" ("id" bigserial primary key, "user_id" bigint, "ad_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_favourites_on_user_id" ON "favourites"  ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_favourites_on_ad_id" ON "favourites"  ("ad_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180605112913"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotifications (20180607150535)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user_id" bigint, "ad_id" bigint)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_user_id" ON "notifications"  ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_notifications_on_ad_id" ON "notifications"  ("ad_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_b080fb4855"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "notifications" ADD CONSTRAINT "fk_rails_5b4eb0e1e4"
FOREIGN KEY ("ad_id")
  REFERENCES "ads" ("id")
[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180607150535"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-06-08 19:56:12.294346"], ["updated_at", "2018-06-08 19:56:12.294346"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7461772034015038740)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "dante@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "dante"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "surname", "username", "email", "encrypted_password", "created_at", "updated_at", "role", "cap", "radius") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "dante"], ["surname", "alighieri"], ["username", "dante"], ["email", "dante@gmail.com"], ["encrypted_password", "$2a$11$TzCVSt.Km/BoeoIV0jnVv.cFfNai1ygC7FBL/PQdree/LEdqcto2C"], ["created_at", "2018-06-08 19:56:16.612749"], ["updated_at", "2018-06-08 19:56:16.612749"], ["role", "superadmin"], ["cap", "00184"], ["radius", "10"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "giorgio@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "giorgio"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "surname", "username", "email", "encrypted_password", "created_at", "updated_at", "role", "cap", "radius") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "giorgio"], ["surname", "dema"], ["username", "giorgio"], ["email", "giorgio@gmail.com"], ["encrypted_password", "$2a$11$d.EAdFga8f0n/FKsVO.OgOr3Rk3okHpZSS5I.R88kElTYIU5TIiQy"], ["created_at", "2018-06-08 19:56:16.772003"], ["updated_at", "2018-06-08 19:56:16.772003"], ["role", "admin"], ["cap", "00123"], ["radius", "10"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "vincenzo@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "vincenzo"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "surname", "username", "email", "encrypted_password", "created_at", "updated_at", "role", "cap", "radius") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "vincenzo"], ["surname", "cas"], ["username", "vincenzo"], ["email", "vincenzo@gmail.com"], ["encrypted_password", "$2a$11$QKa7MClQ190FGrOPLto8teZYt5J9X4ZI5ESZss1Gy122lFlAZolqC"], ["created_at", "2018-06-08 19:56:16.932273"], ["updated_at", "2018-06-08 19:56:16.932273"], ["role", "admin"], ["cap", "00015"], ["radius", "10"]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "flavia@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "flavia"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "surname", "username", "email", "encrypted_password", "created_at", "updated_at", "role", "cap", "radius") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "flavia"], ["surname", "mon"], ["username", "flavia"], ["email", "flavia@gmail.com"], ["encrypted_password", "$2a$11$thiRpQrfo5Nhu7hPqabv5OXjAhGK/1bqjfG/0wyFYx47oVrffNM2e"], ["created_at", "2018-06-08 19:56:17.094122"], ["updated_at", "2018-06-08 19:56:17.094122"], ["role", "admin"], ["cap", "00015"], ["radius", "0"]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "owner_id", "guest_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2018-06-08 19:56:17.132688"], ["updated_at", "2018-06-08 19:56:17.132688"], ["owner_id", 2], ["guest_id", 3]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "read", "chat_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2018-06-08 19:56:17.158895"], ["updated_at", "2018-06-08 19:56:17.158895"], ["text", "Ciao vincenzone porcone"], ["read", "t"], ["chat_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "read", "from", "chat_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2018-06-08 19:56:17.163087"], ["updated_at", "2018-06-08 19:56:17.163087"], ["text", "Ciao giorgio, sei bellissimo"], ["read", "t"], ["from", 1], ["chat_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "owner_id", "guest_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2018-06-08 19:56:17.165999"], ["updated_at", "2018-06-08 19:56:17.165999"], ["owner_id", 2], ["guest_id", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "read", "chat_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2018-06-08 19:56:17.168901"], ["updated_at", "2018-06-08 19:56:17.168901"], ["text", "Ciao Fla, come stai?"], ["read", "t"], ["chat_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("created_at", "updated_at", "text", "read", "from", "chat_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2018-06-08 19:56:17.171619"], ["updated_at", "2018-06-08 19:56:17.171619"], ["text", "Ciao Gio, bene tu? stai studiando?"], ["read", "t"], ["from", 1], ["chat_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:25 +0200
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:26 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_3
Started GET "/users/profile/4" for 127.0.0.1 at 2018-06-08 21:56:30 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 401 Unauthorized in 79ms (ActiveRecord: 6.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:56:30 +0200
Processing by Users::SessionsController#new as HTML
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (19.9ms)
Completed 200 OK in 746ms (Views: 742.7ms | ActiveRecord: 0.0ms)


Started GET "/users/profile/4" for 127.0.0.1 at 2018-06-08 21:56:31 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"4"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:56:31 +0200
Processing by Users::SessionsController#new as HTML
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 61ms (Views: 59.5ms | ActiveRecord: 0.0ms)


Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:31 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:31 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/" for 127.0.0.1 at 2018-06-08 21:56:32 +0200
Processing by HomeController#welcome as HTML
  Rendering home/welcome.html.erb within layouts/application
  [1m[36mAd Load (0.6ms)[0m  [1m[34mSELECT "ads".* FROM "ads"[0m
  Rendered home/welcome.html.erb within layouts/application (6.9ms)
Completed 200 OK in 73ms (Views: 54.9ms | ActiveRecord: 2.4ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:32 +0200
MailboxChannel stopped streaming from mailbox_3
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:32 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:32 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:32 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:32 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:32 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/" for 127.0.0.1 at 2018-06-08 21:56:37 +0200
Processing by HomeController#welcome as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/welcome.html.erb within layouts/application
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads"[0m
  Rendered home/welcome.html.erb within layouts/application (3.2ms)
Completed 200 OK in 58ms (Views: 49.7ms | ActiveRecord: 1.2ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:38 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:38 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:38 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:56:40 +0200
Processing by Users::SessionsController#new as HTML
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 85ms (Views: 83.8ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:40 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:40 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:40 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started POST "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:56:41 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"a9JdU71vc6740x5qESreMX9U6y7Y+5YD7YeOZYfO87Pd1JqKAYXyM2VWcth1elQLxL2LDJsRqdrkBqU0QxTCfA==", "user"=>{"email"=>"giorgio@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "giorgio@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "current_sign_in_ip" = $3, "last_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["current_sign_in_at", "2018-06-08 19:56:41.767639"], ["last_sign_in_at", "2018-06-08 19:56:41.767639"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2018-06-08 19:56:41.769889"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users/profile/2
Completed 302 Found in 212ms (ActiveRecord: 2.6ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:56:41 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (64.6ms)
  Rendered home/_chats_index.html.erb (2.0ms)
  Rendered home/profile.html.erb within layouts/application (77.1ms)
Completed 200 OK in 143ms (Views: 118.2ms | ActiveRecord: 12.1ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:41 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:42 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:42 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:56:46 +0200
Processing by Users::SessionsController#new as HTML
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 74ms (Views: 72.6ms | ActiveRecord: 0.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:46 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:46 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:46 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started POST "/users/sign_in" for 127.0.0.1 at 2018-06-08 21:56:49 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dcw3jToBRPQL+C4p9Hp4Xd9oZ2gmkFnuwUukVkS2IboaJ5s2ySQRBpWWqLPF6pDbpkvt6QK/O0Ve8mn5cCEviA==", "user"=>{"email"=>"vincenzo@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "vincenzo@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "current_sign_in_ip" = $3, "last_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["current_sign_in_at", "2018-06-08 19:56:49.569728"], ["last_sign_in_at", "2018-06-08 19:56:49.569728"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["sign_in_count", 1], ["updated_at", "2018-06-08 19:56:49.571010"], ["id", 3]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users/profile/3
Completed 302 Found in 188ms (ActiveRecord: 2.9ms)


Started GET "/users/profile/3" for 127.0.0.1 at 2018-06-08 21:56:49 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 3 OR guest_id = 3)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (7.0ms)
  Rendered home/_chats_index.html.erb (2.0ms)
  Rendered home/profile.html.erb within layouts/application (18.3ms)
Completed 200 OK in 83ms (Views: 74.6ms | ActiveRecord: 2.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:49 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:56:49 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:56:49 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_3
Started POST "/delete_chat" for 127.0.0.1 at 2018-06-08 21:56:51 +0200
Processing by ChatsController#delete_chat as JSON
  Parameters: {"chat_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] Broadcasting to mailbox_2: {:type=>"delete_chat", :chat_id=>1}
[ActionCable] Broadcasting to mailbox_3: {:type=>"delete_chat", :chat_id=>1}
MailboxChannel transmitting {"type"=>"delete_chat", "chat_id"=>1} (via streamed from mailbox_2)
MailboxChannel transmitting {"type"=>"delete_chat", "chat_id"=>1} (via streamed from mailbox_3)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "chats" WHERE "chats"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 5.1ms)


Started GET "/books_results?utf8=%E2%9C%93&search%5B%5D=la+fine+dell%27eternit%C3%A0&commit=Search" for 127.0.0.1 at 2018-06-08 21:57:23 +0200
Processing by HomeController#books_results as HTML
  Parameters: {"utf8"=>"✓", "search"=>["la fine dell'eternità"], "commit"=>"Search"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/books_results.html.erb within layouts/application
  Rendered home/books_results.html.erb within layouts/application (43.6ms)
Completed 200 OK in 1845ms (Views: 84.9ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:24 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:57:25 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:25 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started POST "/ads?book%5Bid%5D%5BaccessInfo%5D%5BaccessViewStatus%5D=NONE&book%5Bid%5D%5BaccessInfo%5D%5Bcountry%5D=IT&book%5Bid%5D%5BaccessInfo%5D%5Bembeddable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5Bepub%5D%5BisAvailable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5Bpdf%5D%5BisAvailable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BpublicDomain%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BquoteSharingAllowed%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BtextToSpeechPermission%5D=ALLOWED&book%5Bid%5D%5BaccessInfo%5D%5Bviewability%5D=NO_PAGES&book%5Bid%5D%5BaccessInfo%5D%5BwebReaderLink%5D=http%3A%2F%2Fplay.google.com%2Fbooks%2Freader%3Fid%3DGL2pAAAACAAJ%26hl%3D%26printsec%3Dfrontcover%26source%3Dgbs_api&book%5Bid%5D%5Betag%5D=sSqNp%2Fa%2F078&book%5Bid%5D%5Bid%5D=GL2pAAAACAAJ&book%5Bid%5D%5Bkind%5D=books%23volume&book%5Bid%5D%5BsaleInfo%5D%5Bcountry%5D=IT&book%5Bid%5D%5BsaleInfo%5D%5BisEbook%5D=false&book%5Bid%5D%5BsaleInfo%5D%5Bsaleability%5D=NOT_FOR_SALE&book%5Bid%5D%5BselfLink%5D=https%3A%2F%2Fwww.googleapis.com%2Fbooks%2Fv1%2Fvolumes%2FGL2pAAAACAAJ&book%5Bid%5D%5BvolumeInfo%5D%5BallowAnonLogging%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5Bauthors%5D%5B%5D=Isaac+Asimov&book%5Bid%5D%5BvolumeInfo%5D%5BaverageRating%5D=4.5&book%5Bid%5D%5BvolumeInfo%5D%5BcanonicalVolumeLink%5D=https%3A%2F%2Fbooks.google.com%2Fbooks%2Fabout%2FLa_fine_dell_eternit%25C3%25A0.html%3Fhl%3D%26id%3DGL2pAAAACAAJ&book%5Bid%5D%5BvolumeInfo%5D%5Bcategories%5D%5B%5D=Fiction&book%5Bid%5D%5BvolumeInfo%5D%5BcontentVersion%5D=preview-1.0.0&book%5Bid%5D%5BvolumeInfo%5D%5BimageLinks%5D%5BsmallThumbnail%5D=http%3A%2F%2Fbooks.google.com%2Fbooks%2Fcontent%3Fid%3DGL2pAAAACAAJ%26printsec%3Dfrontcover%26img%3D1%26zoom%3D5%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BimageLinks%5D%5Bthumbnail%5D=http%3A%2F%2Fbooks.google.com%2Fbooks%2Fcontent%3Fid%3DGL2pAAAACAAJ%26printsec%3Dfrontcover%26img%3D1%26zoom%3D1%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Bidentifier%5D=8804414510&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Btype%5D=ISBN_10&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Bidentifier%5D=9788804414513&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Btype%5D=ISBN_13&book%5Bid%5D%5BvolumeInfo%5D%5BinfoLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%3Fid%3DGL2pAAAACAAJ%26dq%3Dla%2Bfine%2Bdell%2527eternit%25C3%25A0%26hl%3D%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5Blanguage%5D=it&book%5Bid%5D%5BvolumeInfo%5D%5BmaturityRating%5D=NOT_MATURE&book%5Bid%5D%5BvolumeInfo%5D%5BpageCount%5D=238&book%5Bid%5D%5BvolumeInfo%5D%5BpanelizationSummary%5D%5BcontainsEpubBubbles%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BpanelizationSummary%5D%5BcontainsImageBubbles%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BpreviewLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%3Fid%3DGL2pAAAACAAJ%26dq%3Dla%2Bfine%2Bdell%2527eternit%25C3%25A0%26hl%3D%26cd%3D1%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BprintType%5D=BOOK&book%5Bid%5D%5BvolumeInfo%5D%5BpublishedDate%5D=1996&book%5Bid%5D%5BvolumeInfo%5D%5Bpublisher%5D=Oscar+bestsellers&book%5Bid%5D%5BvolumeInfo%5D%5BratingsCount%5D=4&book%5Bid%5D%5BvolumeInfo%5D%5BreadingModes%5D%5Bimage%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BreadingModes%5D%5Btext%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5Btitle%5D=La+fine+dell%27eternit%C3%A0&book%5Blist_type%5D=1" for 127.0.0.1 at 2018-06-08 21:57:33 +0200
Processing by AdsController#create as HTML
  Parameters: {"authenticity_token"=>"295/oXOXuYSCjlZNLjiZLD+4MOXwe7lCJzIX3XXh3haJWvDyh4huagYrgGoF8gYweUb1oKsMO8hYOKe9meWncg==", "book"=>{"id"=>{"accessInfo"=>{"accessViewStatus"=>"NONE", "country"=>"IT", "embeddable"=>"false", "epub"=>{"isAvailable"=>"false"}, "pdf"=>{"isAvailable"=>"false"}, "publicDomain"=>"false", "quoteSharingAllowed"=>"false", "textToSpeechPermission"=>"ALLOWED", "viewability"=>"NO_PAGES", "webReaderLink"=>"http://play.google.com/books/reader?id=GL2pAAAACAAJ&hl=&printsec=frontcover&source=gbs_api"}, "etag"=>"sSqNp/a/078", "id"=>"GL2pAAAACAAJ", "kind"=>"books#volume", "saleInfo"=>{"country"=>"IT", "isEbook"=>"false", "saleability"=>"NOT_FOR_SALE"}, "selfLink"=>"https://www.googleapis.com/books/v1/volumes/GL2pAAAACAAJ", "volumeInfo"=>{"allowAnonLogging"=>"false", "authors"=>["Isaac Asimov"], "averageRating"=>"4.5", "canonicalVolumeLink"=>"https://books.google.com/books/about/La_fine_dell_eternit%C3%A0.html?hl=&id=GL2pAAAACAAJ", "categories"=>["Fiction"], "contentVersion"=>"preview-1.0.0", "imageLinks"=>{"smallThumbnail"=>"http://books.google.com/books/content?id=GL2pAAAACAAJ&printsec=frontcover&img=1&zoom=5&source=gbs_api", "thumbnail"=>"http://books.google.com/books/content?id=GL2pAAAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api"}, "industryIdentifiers"=>[{"identifier"=>"8804414510", "type"=>"ISBN_10"}, {"identifier"=>"9788804414513", "type"=>"ISBN_13"}], "infoLink"=>"http://books.google.it/books?id=GL2pAAAACAAJ&dq=la+fine+dell%27eternit%C3%A0&hl=&source=gbs_api", "language"=>"it", "maturityRating"=>"NOT_MATURE", "pageCount"=>"238", "panelizationSummary"=>{"containsEpubBubbles"=>"false", "containsImageBubbles"=>"false"}, "previewLink"=>"http://books.google.it/books?id=GL2pAAAACAAJ&dq=la+fine+dell%27eternit%C3%A0&hl=&cd=1&source=gbs_api", "printType"=>"BOOK", "publishedDate"=>"1996", "publisher"=>"Oscar bestsellers", "ratingsCount"=>"4", "readingModes"=>{"image"=>"false", "text"=>"false"}, "title"=>"La fine dell'eternità"}}, "list_type"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."google_id" = $2 AND "ads"."list_type" = $3[0m  [["user_id", 2], ["google_id", "GL2pAAAACAAJ"], ["list_type", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "giorgio"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "ads" ("list_type", "book_title", "book_authors", "link_to_coverbook", "publisher", "identifier", "user_id", "created_at", "updated_at", "google_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["list_type", 1], ["book_title", "La fine dell'eternità"], ["book_authors", "[\"Isaac Asimov\"]"], ["link_to_coverbook", "http://books.google.com/books/content?id=GL2pAAAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api"], ["publisher", "Oscar bestsellers"], ["identifier", "[\"ISBN_10\", \"8804414510\"]"], ["user_id", 2], ["created_at", "2018-06-08 19:57:33.045735"], ["updated_at", "2018-06-08 19:57:33.045735"], ["google_id", "GL2pAAAACAAJ"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users/profile/2
[ActiveJob] Enqueued CreateNotificationsJob (Job ID: def8ac36-489e-4f78-b883-46004f089bc4) to Async(default) with arguments: #<GlobalID:0x00007fc3153d4570 @uri=#<URI::GID gid://flealibrary/Ad/1>>
Completed 302 Found in 69ms (ActiveRecord: 5.4ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:57:33 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (1.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mAd Load (1.4ms)[0m  [1m[34mSELECT  "ads".* FROM "ads" WHERE "ads"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [CreateNotificationsJob] [def8ac36-489e-4f78-b883-46004f089bc4] Performing CreateNotificationsJob (Job ID: def8ac36-489e-4f78-b883-46004f089bc4) from Async(default) with arguments: #<GlobalID:0x00007fc3140b6ba0 @uri=#<URI::GID gid://flealibrary/Ad/1>>
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [CreateNotificationsJob] [def8ac36-489e-4f78-b883-46004f089bc4]   [1m[36mAd Load (1.2ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE (LOWER(book_title) = 'la fine dell''eternità' AND id != 1)[0m
[ActiveJob] [CreateNotificationsJob] [def8ac36-489e-4f78-b883-46004f089bc4] Performed CreateNotificationsJob (Job ID: def8ac36-489e-4f78-b883-46004f089bc4) from Async(default) in 2.13ms
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (9.7ms)
  Rendered home/_chats_index.html.erb (1.1ms)
  Rendered home/profile.html.erb within layouts/application (18.9ms)
Completed 200 OK in 68ms (Views: 57.6ms | ActiveRecord: 4.9ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:33 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:57:33 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:33 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/books_results?utf8=%E2%9C%93&search%5B%5D=il+ciclo+della+fondazione&commit=Search" for 127.0.0.1 at 2018-06-08 21:57:38 +0200
Processing by HomeController#books_results as HTML
  Parameters: {"utf8"=>"✓", "search"=>["il ciclo della fondazione"], "commit"=>"Search"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/books_results.html.erb within layouts/application
  Rendered home/books_results.html.erb within layouts/application (47.7ms)
Completed 200 OK in 958ms (Views: 90.6ms | ActiveRecord: 1.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:39 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:57:39 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:39 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started POST "/ads?book%5Bid%5D%5BaccessInfo%5D%5BaccessViewStatus%5D=NONE&book%5Bid%5D%5BaccessInfo%5D%5Bcountry%5D=IT&book%5Bid%5D%5BaccessInfo%5D%5Bembeddable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5Bepub%5D%5BisAvailable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5Bpdf%5D%5BisAvailable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BpublicDomain%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BquoteSharingAllowed%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BtextToSpeechPermission%5D=ALLOWED&book%5Bid%5D%5BaccessInfo%5D%5Bviewability%5D=NO_PAGES&book%5Bid%5D%5BaccessInfo%5D%5BwebReaderLink%5D=http%3A%2F%2Fplay.google.com%2Fbooks%2Freader%3Fid%3DegBvAAAACAAJ%26hl%3D%26printsec%3Dfrontcover%26source%3Dgbs_api&book%5Bid%5D%5Betag%5D=LdbksfZtEt8&book%5Bid%5D%5Bid%5D=egBvAAAACAAJ&book%5Bid%5D%5Bkind%5D=books%23volume&book%5Bid%5D%5BsaleInfo%5D%5Bcountry%5D=IT&book%5Bid%5D%5BsaleInfo%5D%5BisEbook%5D=false&book%5Bid%5D%5BsaleInfo%5D%5Bsaleability%5D=NOT_FOR_SALE&book%5Bid%5D%5BselfLink%5D=https%3A%2F%2Fwww.googleapis.com%2Fbooks%2Fv1%2Fvolumes%2FegBvAAAACAAJ&book%5Bid%5D%5BvolumeInfo%5D%5BallowAnonLogging%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5Bauthors%5D%5B%5D=Isaac+Asimov&book%5Bid%5D%5BvolumeInfo%5D%5BaverageRating%5D=4.5&book%5Bid%5D%5BvolumeInfo%5D%5BcanonicalVolumeLink%5D=https%3A%2F%2Fbooks.google.com%2Fbooks%2Fabout%2FIl_ciclo_delle_Fondazioni.html%3Fhl%3D%26id%3DegBvAAAACAAJ&book%5Bid%5D%5BvolumeInfo%5D%5Bcategories%5D%5B%5D=Fiction&book%5Bid%5D%5BvolumeInfo%5D%5BcontentVersion%5D=preview-1.0.0&book%5Bid%5D%5BvolumeInfo%5D%5BimageLinks%5D%5BsmallThumbnail%5D=http%3A%2F%2Fbooks.google.com%2Fbooks%2Fcontent%3Fid%3DegBvAAAACAAJ%26printsec%3Dfrontcover%26img%3D1%26zoom%3D5%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BimageLinks%5D%5Bthumbnail%5D=http%3A%2F%2Fbooks.google.com%2Fbooks%2Fcontent%3Fid%3DegBvAAAACAAJ%26printsec%3Dfrontcover%26img%3D1%26zoom%3D1%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Bidentifier%5D=8804520736&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Btype%5D=ISBN_10&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Bidentifier%5D=9788804520733&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Btype%5D=ISBN_13&book%5Bid%5D%5BvolumeInfo%5D%5BinfoLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%3Fid%3DegBvAAAACAAJ%26dq%3Dil%2Bciclo%2Bdella%2Bfondazione%26hl%3D%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5Blanguage%5D=it&book%5Bid%5D%5BvolumeInfo%5D%5BmaturityRating%5D=NOT_MATURE&book%5Bid%5D%5BvolumeInfo%5D%5BpageCount%5D=744&book%5Bid%5D%5BvolumeInfo%5D%5BpreviewLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%3Fid%3DegBvAAAACAAJ%26dq%3Dil%2Bciclo%2Bdella%2Bfondazione%26hl%3D%26cd%3D1%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BprintType%5D=BOOK&book%5Bid%5D%5BvolumeInfo%5D%5BpublishedDate%5D=2003&book%5Bid%5D%5BvolumeInfo%5D%5BratingsCount%5D=4&book%5Bid%5D%5BvolumeInfo%5D%5BreadingModes%5D%5Bimage%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BreadingModes%5D%5Btext%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5Btitle%5D=Il+ciclo+delle+Fondazioni&book%5Blist_type%5D=1" for 127.0.0.1 at 2018-06-08 21:57:41 +0200
Processing by AdsController#create as HTML
  Parameters: {"authenticity_token"=>"H6Q0qV0m3hxO7sOLMHgIRFQy18wimRc4TP7vkRzZA8pNILv6qTkJ8spLFawbspdYEswSiXnulbIz9F/x8N16rg==", "book"=>{"id"=>{"accessInfo"=>{"accessViewStatus"=>"NONE", "country"=>"IT", "embeddable"=>"false", "epub"=>{"isAvailable"=>"false"}, "pdf"=>{"isAvailable"=>"false"}, "publicDomain"=>"false", "quoteSharingAllowed"=>"false", "textToSpeechPermission"=>"ALLOWED", "viewability"=>"NO_PAGES", "webReaderLink"=>"http://play.google.com/books/reader?id=egBvAAAACAAJ&hl=&printsec=frontcover&source=gbs_api"}, "etag"=>"LdbksfZtEt8", "id"=>"egBvAAAACAAJ", "kind"=>"books#volume", "saleInfo"=>{"country"=>"IT", "isEbook"=>"false", "saleability"=>"NOT_FOR_SALE"}, "selfLink"=>"https://www.googleapis.com/books/v1/volumes/egBvAAAACAAJ", "volumeInfo"=>{"allowAnonLogging"=>"false", "authors"=>["Isaac Asimov"], "averageRating"=>"4.5", "canonicalVolumeLink"=>"https://books.google.com/books/about/Il_ciclo_delle_Fondazioni.html?hl=&id=egBvAAAACAAJ", "categories"=>["Fiction"], "contentVersion"=>"preview-1.0.0", "imageLinks"=>{"smallThumbnail"=>"http://books.google.com/books/content?id=egBvAAAACAAJ&printsec=frontcover&img=1&zoom=5&source=gbs_api", "thumbnail"=>"http://books.google.com/books/content?id=egBvAAAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api"}, "industryIdentifiers"=>[{"identifier"=>"8804520736", "type"=>"ISBN_10"}, {"identifier"=>"9788804520733", "type"=>"ISBN_13"}], "infoLink"=>"http://books.google.it/books?id=egBvAAAACAAJ&dq=il+ciclo+della+fondazione&hl=&source=gbs_api", "language"=>"it", "maturityRating"=>"NOT_MATURE", "pageCount"=>"744", "previewLink"=>"http://books.google.it/books?id=egBvAAAACAAJ&dq=il+ciclo+della+fondazione&hl=&cd=1&source=gbs_api", "printType"=>"BOOK", "publishedDate"=>"2003", "ratingsCount"=>"4", "readingModes"=>{"image"=>"false", "text"=>"false"}, "title"=>"Il ciclo delle Fondazioni"}}, "list_type"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAd Load (0.3ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."google_id" = $2 AND "ads"."list_type" = $3[0m  [["user_id", 2], ["google_id", "egBvAAAACAAJ"], ["list_type", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "giorgio"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ads" ("list_type", "book_title", "book_authors", "link_to_coverbook", "publisher", "identifier", "user_id", "created_at", "updated_at", "google_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["list_type", 1], ["book_title", "Il ciclo delle Fondazioni"], ["book_authors", "[\"Isaac Asimov\"]"], ["link_to_coverbook", "http://books.google.com/books/content?id=egBvAAAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api"], ["publisher", "not specified"], ["identifier", "[\"ISBN_10\", \"8804520736\"]"], ["user_id", 2], ["created_at", "2018-06-08 19:57:41.805904"], ["updated_at", "2018-06-08 19:57:41.805904"], ["google_id", "egBvAAAACAAJ"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users/profile/2
[ActiveJob] Enqueued CreateNotificationsJob (Job ID: 9a1bcd4a-8db6-4775-a1f0-502a9843e776) to Async(default) with arguments: #<GlobalID:0x00007fc315509468 @uri=#<URI::GID gid://flealibrary/Ad/2>>
Completed 302 Found in 19ms (ActiveRecord: 5.1ms)


  [1m[36mAd Load (0.6ms)[0m  [1m[34mSELECT  "ads".* FROM "ads" WHERE "ads"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [CreateNotificationsJob] [9a1bcd4a-8db6-4775-a1f0-502a9843e776] Performing CreateNotificationsJob (Job ID: 9a1bcd4a-8db6-4775-a1f0-502a9843e776) from Async(default) with arguments: #<GlobalID:0x00007fc318001fa8 @uri=#<URI::GID gid://flealibrary/Ad/2>>
Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:57:41 +0200
[ActiveJob] [CreateNotificationsJob] [9a1bcd4a-8db6-4775-a1f0-502a9843e776]   [1m[36mAd Load (0.7ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE (LOWER(book_title) = 'il ciclo delle fondazioni' AND id != 2)[0m
Processing by HomeController#profile as HTML
[ActiveJob] [CreateNotificationsJob] [9a1bcd4a-8db6-4775-a1f0-502a9843e776] Performed CreateNotificationsJob (Job ID: 9a1bcd4a-8db6-4775-a1f0-502a9843e776) from Async(default) in 2.8ms
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (5.9ms)
  Rendered home/_chats_index.html.erb (1.1ms)
  Rendered home/profile.html.erb within layouts/application (14.7ms)
Completed 200 OK in 61ms (Views: 54.5ms | ActiveRecord: 2.1ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:41 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:57:41 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:41 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/notifications" for 127.0.0.1 at 2018-06-08 21:57:48 +0200
Processing by NotificationsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mNotification Load (0.5ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."user_id" = $1[0m  [["user_id", 3]]
  Rendering notifications/index.html.erb within layouts/application
  Rendered _ads_list.html.erb (1.4ms)
  Rendered notifications/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 67ms (Views: 49.0ms | ActiveRecord: 5.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:48 +0200
MailboxChannel stopped streaming from mailbox_3
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:57:48 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:48 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/users/profile/3" for 127.0.0.1 at 2018-06-08 21:57:49 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 3 OR guest_id = 3)[0m
  Rendered home/_chat.html.erb (1.6ms)
  Rendered home/_chats_index.html.erb (0.6ms)
  Rendered home/profile.html.erb within layouts/application (10.3ms)
Completed 200 OK in 69ms (Views: 62.9ms | ActiveRecord: 1.1ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:49 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:57:49 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:49 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_3
Started GET "/profile/gift_list?id=2&list_type=2" for 127.0.0.1 at 2018-06-08 21:57:53 +0200
Processing by AdsController#gift as HTML
  Parameters: {"id"=>"2", "list_type"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/gift.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 2]]
  Rendered _ads_list.html.erb (2.2ms)
  Rendered ads/gift.html.erb within layouts/application (5.3ms)
Completed 200 OK in 57ms (Views: 49.6ms | ActiveRecord: 0.9ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:57:57 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (5.9ms)
  Rendered home/_chats_index.html.erb (1.1ms)
  Rendered home/profile.html.erb within layouts/application (14.7ms)
Completed 200 OK in 61ms (Views: 53.3ms | ActiveRecord: 2.4ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:57 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:57:57 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:57:57 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/wish_list?id=2&list_type=1" for 127.0.0.1 at 2018-06-08 21:57:58 +0200
Processing by AdsController#wish as HTML
  Parameters: {"id"=>"2", "list_type"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/wish.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered _ads_list.html.erb (4.0ms)
  Rendered ads/wish.html.erb within layouts/application (6.8ms)
Completed 200 OK in 55ms (Views: 48.0ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-06-08 21:58:07 +0200
Processing by HomeController#welcome as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAd Load (0.3ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE ("ads"."user_id" != $1)[0m  [["user_id", 2]]
  Rendering home/welcome.html.erb within layouts/application
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads"[0m
  Rendered home/welcome.html.erb within layouts/application (2.9ms)
Completed 200 OK in 51ms (Views: 44.1ms | ActiveRecord: 1.4ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:07 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:58:07 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:07 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:58:09 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (6.9ms)
  Rendered home/_chats_index.html.erb (1.6ms)
  Rendered home/profile.html.erb within layouts/application (16.9ms)
Completed 200 OK in 75ms (Views: 66.1ms | ActiveRecord: 3.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:09 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:58:09 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:09 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/books_results?utf8=%E2%9C%93&search%5B%5D=doria+grey&commit=Search" for 127.0.0.1 at 2018-06-08 21:58:14 +0200
Processing by HomeController#books_results as HTML
  Parameters: {"utf8"=>"✓", "search"=>["doria grey"], "commit"=>"Search"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/books_results.html.erb within layouts/application
  Rendered home/books_results.html.erb within layouts/application (39.4ms)
Completed 200 OK in 941ms (Views: 80.8ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:15 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:58:16 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:16 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started POST "/ads?book%5Bid%5D%5BaccessInfo%5D%5BaccessViewStatus%5D=SAMPLE&book%5Bid%5D%5BaccessInfo%5D%5Bcountry%5D=IT&book%5Bid%5D%5BaccessInfo%5D%5Bembeddable%5D=true&book%5Bid%5D%5BaccessInfo%5D%5Bepub%5D%5BacsTokenLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%2Fdownload%2FIl_ritratto_di_Dorian_Gray-sample-epub.acsm%3Fid%3DTXWXCgAAQBAJ%26format%3Depub%26output%3Dacs4_fulfillment_token%26dl_type%3Dsample%26source%3Dgbs_api&book%5Bid%5D%5BaccessInfo%5D%5Bepub%5D%5BisAvailable%5D=true&book%5Bid%5D%5BaccessInfo%5D%5Bpdf%5D%5BacsTokenLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%2Fdownload%2FIl_ritratto_di_Dorian_Gray-sample-pdf.acsm%3Fid%3DTXWXCgAAQBAJ%26format%3Dpdf%26output%3Dacs4_fulfillment_token%26dl_type%3Dsample%26source%3Dgbs_api&book%5Bid%5D%5BaccessInfo%5D%5Bpdf%5D%5BisAvailable%5D=true&book%5Bid%5D%5BaccessInfo%5D%5BpublicDomain%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BquoteSharingAllowed%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BtextToSpeechPermission%5D=ALLOWED&book%5Bid%5D%5BaccessInfo%5D%5Bviewability%5D=PARTIAL&book%5Bid%5D%5BaccessInfo%5D%5BwebReaderLink%5D=http%3A%2F%2Fplay.google.com%2Fbooks%2Freader%3Fid%3DTXWXCgAAQBAJ%26hl%3D%26printsec%3Dfrontcover%26source%3Dgbs_api&book%5Bid%5D%5Betag%5D=UeusU9cPBd0&book%5Bid%5D%5Bid%5D=TXWXCgAAQBAJ&book%5Bid%5D%5Bkind%5D=books%23volume&book%5Bid%5D%5BsaleInfo%5D%5BbuyLink%5D=https%3A%2F%2Fplay.google.com%2Fstore%2Fbooks%2Fdetails%3Fid%3DTXWXCgAAQBAJ%26rdid%3Dbook-TXWXCgAAQBAJ%26rdot%3D1%26source%3Dgbs_api&book%5Bid%5D%5BsaleInfo%5D%5Bcountry%5D=IT&book%5Bid%5D%5BsaleInfo%5D%5BisEbook%5D=true&book%5Bid%5D%5BsaleInfo%5D%5BlistPrice%5D%5Bamount%5D=1.99&book%5Bid%5D%5BsaleInfo%5D%5BlistPrice%5D%5BcurrencyCode%5D=EUR&book%5Bid%5D%5BsaleInfo%5D%5Boffers%5D%5B%5D%5BfinskyOfferType%5D=1&book%5Bid%5D%5BsaleInfo%5D%5Boffers%5D%5B%5D%5BlistPrice%5D%5BamountInMicros%5D=1990000.0&book%5Bid%5D%5BsaleInfo%5D%5Boffers%5D%5B%5D%5BlistPrice%5D%5BcurrencyCode%5D=EUR&book%5Bid%5D%5BsaleInfo%5D%5Boffers%5D%5B%5D%5BretailPrice%5D%5BamountInMicros%5D=1990000.0&book%5Bid%5D%5BsaleInfo%5D%5Boffers%5D%5B%5D%5BretailPrice%5D%5BcurrencyCode%5D=EUR&book%5Bid%5D%5BsaleInfo%5D%5BretailPrice%5D%5Bamount%5D=1.99&book%5Bid%5D%5BsaleInfo%5D%5BretailPrice%5D%5BcurrencyCode%5D=EUR&book%5Bid%5D%5BsaleInfo%5D%5Bsaleability%5D=FOR_SALE&book%5Bid%5D%5BsearchInfo%5D%5BtextSnippet%5D=Sei+bello%2C+Dorian+Gray%2C+bello+come+nessuno%2C+e+hai+una+certezza%3A+la+tua+vita+deve+essere+un%E2%80%99opera+d%E2%80%99arte.&book%5Bid%5D%5BselfLink%5D=https%3A%2F%2Fwww.googleapis.com%2Fbooks%2Fv1%2Fvolumes%2FTXWXCgAAQBAJ&book%5Bid%5D%5BvolumeInfo%5D%5BallowAnonLogging%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5Bauthors%5D%5B%5D=Oscar+Wilde&book%5Bid%5D%5BvolumeInfo%5D%5BcanonicalVolumeLink%5D=https%3A%2F%2Fmarket.android.com%2Fdetails%3Fid%3Dbook-TXWXCgAAQBAJ&book%5Bid%5D%5BvolumeInfo%5D%5Bcategories%5D%5B%5D=Fiction&book%5Bid%5D%5BvolumeInfo%5D%5BcontentVersion%5D=1.2.3.0.preview.3&book%5Bid%5D%5BvolumeInfo%5D%5Bdescription%5D=Sei+bello%2C+Dorian+Gray%2C+bello+come+nessuno%2C+e+hai+una+certezza%3A+la+tua+vita+deve+essere+un%E2%80%99opera+d%E2%80%99arte.+Ti+interessa+solo+il+piacere%2C+del+resto+te+lo+puoi+permettere%2C+i+soldi+non+ti+mancano.+Vivi+senza+freni%2C+ti+fanno+orrore+le+convenzioni+e+uccidere+un+altro+uomo+non+ti+turba%2C+se+quest%E2%80%99uomo+rischia+di+diventare+un+problema.+Sei+perfino+riuscito+a+non+invecchiare%2C+lasciando+che+a+portare+i+segni+del+tempo+sia+il+ritratto+dipinto+per+te+dall%E2%80%99amico+Basil.+%E2%80%9CGuardati+nello+specchio%E2%80%9D%2C+aveva+detto+Plutarco%2C+%E2%80%9Ce+se+ti+sembra+di+essere+bello%2C+opera+cose+degne+della+tua+bellezza.+Se+invece+ti+credi+deforme%2C+fa%E2%80%99+in+modo+che+i+difetti+del+tuo+volto+siano+emendati+dai+virtuosi+costumi.%E2%80%9D+Conosci+Plutarco%2C+Dorian%3F&book%5Bid%5D%5BvolumeInfo%5D%5BimageLinks%5D%5BsmallThumbnail%5D=http%3A%2F%2Fbooks.google.com%2Fbooks%2Fcontent%3Fid%3DTXWXCgAAQBAJ%26printsec%3Dfrontcover%26img%3D1%26zoom%3D5%26edge%3Dcurl%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BimageLinks%5D%5Bthumbnail%5D=http%3A%2F%2Fbooks.google.com%2Fbooks%2Fcontent%3Fid%3DTXWXCgAAQBAJ%26printsec%3Dfrontcover%26img%3D1%26zoom%3D1%26edge%3Dcurl%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Bidentifier%5D=9788868651725&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Btype%5D=ISBN_13&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Bidentifier%5D=8868651726&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Btype%5D=ISBN_10&book%5Bid%5D%5BvolumeInfo%5D%5BinfoLink%5D=https%3A%2F%2Fplay.google.com%2Fstore%2Fbooks%2Fdetails%3Fid%3DTXWXCgAAQBAJ%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5Blanguage%5D=it&book%5Bid%5D%5BvolumeInfo%5D%5BmaturityRating%5D=NOT_MATURE&book%5Bid%5D%5BvolumeInfo%5D%5BpageCount%5D=256&book%5Bid%5D%5BvolumeInfo%5D%5BpanelizationSummary%5D%5BcontainsEpubBubbles%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BpanelizationSummary%5D%5BcontainsImageBubbles%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BpreviewLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%3Fid%3DTXWXCgAAQBAJ%26printsec%3Dfrontcover%26dq%3Ddoria%2Bgrey%26hl%3D%26cd%3D1%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BprintType%5D=BOOK&book%5Bid%5D%5BvolumeInfo%5D%5BpublishedDate%5D=2014-10-15T00%3A00%3A00%2B02%3A00&book%5Bid%5D%5BvolumeInfo%5D%5Bpublisher%5D=Baldini+%26+Castoldi+&book%5Bid%5D%5BvolumeInfo%5D%5BreadingModes%5D%5Bimage%5D=true&book%5Bid%5D%5BvolumeInfo%5D%5BreadingModes%5D%5Btext%5D=true&book%5Bid%5D%5BvolumeInfo%5D%5Btitle%5D=Il+ritratto+di+Dorian+Gray&book%5Blist_type%5D=1" for 127.0.0.1 at 2018-06-08 21:58:18 +0200
Processing by AdsController#create as HTML
  Parameters: {"authenticity_token"=>"RT+VHyr1nH3Bz2xaP7tMf9eBQWa9zsyEpPJtFo0CjyUXuxpM3upLk0Vqun0UcdNjkX+EI+a5Tg7b+N12YQb2QQ==", "book"=>{"id"=>{"accessInfo"=>{"accessViewStatus"=>"SAMPLE", "country"=>"IT", "embeddable"=>"true", "epub"=>{"acsTokenLink"=>"http://books.google.it/books/download/Il_ritratto_di_Dorian_Gray-sample-epub.acsm?id=TXWXCgAAQBAJ&format=epub&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api", "isAvailable"=>"true"}, "pdf"=>{"acsTokenLink"=>"http://books.google.it/books/download/Il_ritratto_di_Dorian_Gray-sample-pdf.acsm?id=TXWXCgAAQBAJ&format=pdf&output=acs4_fulfillment_token&dl_type=sample&source=gbs_api", "isAvailable"=>"true"}, "publicDomain"=>"false", "quoteSharingAllowed"=>"false", "textToSpeechPermission"=>"ALLOWED", "viewability"=>"PARTIAL", "webReaderLink"=>"http://play.google.com/books/reader?id=TXWXCgAAQBAJ&hl=&printsec=frontcover&source=gbs_api"}, "etag"=>"UeusU9cPBd0", "id"=>"TXWXCgAAQBAJ", "kind"=>"books#volume", "saleInfo"=>{"buyLink"=>"https://play.google.com/store/books/details?id=TXWXCgAAQBAJ&rdid=book-TXWXCgAAQBAJ&rdot=1&source=gbs_api", "country"=>"IT", "isEbook"=>"true", "listPrice"=>{"amount"=>"1.99", "currencyCode"=>"EUR"}, "offers"=>[{"finskyOfferType"=>"1", "listPrice"=>{"amountInMicros"=>"1990000.0", "currencyCode"=>"EUR"}, "retailPrice"=>{"amountInMicros"=>"1990000.0", "currencyCode"=>"EUR"}}], "retailPrice"=>{"amount"=>"1.99", "currencyCode"=>"EUR"}, "saleability"=>"FOR_SALE"}, "searchInfo"=>{"textSnippet"=>"Sei bello, Dorian Gray, bello come nessuno, e hai una certezza: la tua vita deve essere un’opera d’arte."}, "selfLink"=>"https://www.googleapis.com/books/v1/volumes/TXWXCgAAQBAJ", "volumeInfo"=>{"allowAnonLogging"=>"false", "authors"=>["Oscar Wilde"], "canonicalVolumeLink"=>"https://market.android.com/details?id=book-TXWXCgAAQBAJ", "categories"=>["Fiction"], "contentVersion"=>"1.2.3.0.preview.3", "description"=>"Sei bello, Dorian Gray, bello come nessuno, e hai una certezza: la tua vita deve essere un’opera d’arte. Ti interessa solo il piacere, del resto te lo puoi permettere, i soldi non ti mancano. Vivi senza freni, ti fanno orrore le convenzioni e uccidere un altro uomo non ti turba, se quest’uomo rischia di diventare un problema. Sei perfino riuscito a non invecchiare, lasciando che a portare i segni del tempo sia il ritratto dipinto per te dall’amico Basil. “Guardati nello specchio”, aveva detto Plutarco, “e se ti sembra di essere bello, opera cose degne della tua bellezza. Se invece ti credi deforme, fa’ in modo che i difetti del tuo volto siano emendati dai virtuosi costumi.” Conosci Plutarco, Dorian?", "imageLinks"=>{"smallThumbnail"=>"http://books.google.com/books/content?id=TXWXCgAAQBAJ&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api", "thumbnail"=>"http://books.google.com/books/content?id=TXWXCgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"}, "industryIdentifiers"=>[{"identifier"=>"9788868651725", "type"=>"ISBN_13"}, {"identifier"=>"8868651726", "type"=>"ISBN_10"}], "infoLink"=>"https://play.google.com/store/books/details?id=TXWXCgAAQBAJ&source=gbs_api", "language"=>"it", "maturityRating"=>"NOT_MATURE", "pageCount"=>"256", "panelizationSummary"=>{"containsEpubBubbles"=>"false", "containsImageBubbles"=>"false"}, "previewLink"=>"http://books.google.it/books?id=TXWXCgAAQBAJ&printsec=frontcover&dq=doria+grey&hl=&cd=1&source=gbs_api", "printType"=>"BOOK", "publishedDate"=>"2014-10-15T00:00:00+02:00", "publisher"=>"Baldini & Castoldi ", "readingModes"=>{"image"=>"true", "text"=>"true"}, "title"=>"Il ritratto di Dorian Gray"}}, "list_type"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mAd Load (0.7ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."google_id" = $2 AND "ads"."list_type" = $3[0m  [["user_id", 2], ["google_id", "TXWXCgAAQBAJ"], ["list_type", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "giorgio"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "ads" ("list_type", "book_title", "book_authors", "link_to_coverbook", "publisher", "identifier", "user_id", "created_at", "updated_at", "google_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["list_type", 1], ["book_title", "Il ritratto di Dorian Gray"], ["book_authors", "[\"Oscar Wilde\"]"], ["link_to_coverbook", "http://books.google.com/books/content?id=TXWXCgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"], ["publisher", "Baldini & Castoldi "], ["identifier", "[\"ISBN_13\", \"9788868651725\"]"], ["user_id", 2], ["created_at", "2018-06-08 19:58:18.757928"], ["updated_at", "2018-06-08 19:58:18.757928"], ["google_id", "TXWXCgAAQBAJ"]]
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users/profile/2
[ActiveJob] Enqueued CreateNotificationsJob (Job ID: 26ee2ced-53da-4cad-918d-15d1f2734f6e) to Async(default) with arguments: #<GlobalID:0x00007fc30f730a30 @uri=#<URI::GID gid://flealibrary/Ad/3>>
Completed 302 Found in 58ms (ActiveRecord: 43.7ms)


  [1m[36mAd Load (0.7ms)[0m  [1m[34mSELECT  "ads".* FROM "ads" WHERE "ads"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [CreateNotificationsJob] [26ee2ced-53da-4cad-918d-15d1f2734f6e] Performing CreateNotificationsJob (Job ID: 26ee2ced-53da-4cad-918d-15d1f2734f6e) from Async(default) with arguments: #<GlobalID:0x00007fc30f6e1ae8 @uri=#<URI::GID gid://flealibrary/Ad/3>>
[ActiveJob] [CreateNotificationsJob] [26ee2ced-53da-4cad-918d-15d1f2734f6e]   [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE (LOWER(book_title) = 'il ritratto di dorian gray' AND id != 3)[0m
[ActiveJob] [CreateNotificationsJob] [26ee2ced-53da-4cad-918d-15d1f2734f6e] Performed CreateNotificationsJob (Job ID: 26ee2ced-53da-4cad-918d-15d1f2734f6e) from Async(default) in 1.58ms
Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:58:18 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (6.0ms)
  Rendered home/_chats_index.html.erb (1.2ms)
  Rendered home/profile.html.erb within layouts/application (15.3ms)
Completed 200 OK in 63ms (Views: 55.6ms | ActiveRecord: 2.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:18 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:58:18 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:18 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/gift_list?id=2&list_type=2" for 127.0.0.1 at 2018-06-08 21:58:20 +0200
Processing by AdsController#gift as HTML
  Parameters: {"id"=>"2", "list_type"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/gift.html.erb within layouts/application
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 2]]
  Rendered _ads_list.html.erb (2.1ms)
  Rendered ads/gift.html.erb within layouts/application (5.0ms)
Completed 200 OK in 67ms (Views: 60.7ms | ActiveRecord: 0.9ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:58:21 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (5.6ms)
  Rendered home/_chats_index.html.erb (1.0ms)
  Rendered home/profile.html.erb within layouts/application (14.4ms)
Completed 200 OK in 62ms (Views: 54.4ms | ActiveRecord: 2.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:21 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:58:21 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:21 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/wish_list?id=2&list_type=1" for 127.0.0.1 at 2018-06-08 21:58:22 +0200
Processing by AdsController#wish as HTML
  Parameters: {"id"=>"2", "list_type"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/wish.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered _ads_list.html.erb (4.2ms)
  Rendered ads/wish.html.erb within layouts/application (7.3ms)
Completed 200 OK in 57ms (Views: 49.7ms | ActiveRecord: 1.2ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 21:58:24 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (5.8ms)
  Rendered home/_chats_index.html.erb (1.2ms)
  Rendered home/profile.html.erb within layouts/application (14.7ms)
Completed 200 OK in 62ms (Views: 53.9ms | ActiveRecord: 2.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:24 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 21:58:24 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 21:58:24 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/gift_list?id=2&list_type=2" for 127.0.0.1 at 2018-06-08 22:05:02 +0200
Processing by AdsController#gift as HTML
  Parameters: {"id"=>"2", "list_type"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/gift.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 2]]
  Rendered _ads_list.html.erb (2.2ms)
  Rendered ads/gift.html.erb within layouts/application (5.2ms)
Completed 200 OK in 62ms (Views: 55.4ms | ActiveRecord: 0.9ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 22:05:04 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (6.2ms)
  Rendered home/_chats_index.html.erb (1.2ms)
  Rendered home/profile.html.erb within layouts/application (15.5ms)
Completed 200 OK in 65ms (Views: 57.1ms | ActiveRecord: 2.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:04 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:05:04 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:04 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/gift_list?id=2&list_type=1" for 127.0.0.1 at 2018-06-08 22:05:05 +0200
Processing by AdsController#gift as HTML
  Parameters: {"id"=>"2", "list_type"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/gift.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered _ads_list.html.erb (5.0ms)
  Rendered ads/gift.html.erb within layouts/application (8.1ms)
Completed 200 OK in 58ms (Views: 50.7ms | ActiveRecord: 1.2ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 22:05:07 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (5.8ms)
  Rendered home/_chats_index.html.erb (1.1ms)
  Rendered home/profile.html.erb within layouts/application (14.7ms)
Completed 200 OK in 64ms (Views: 56.1ms | ActiveRecord: 2.4ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:08 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:05:08 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:08 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 22:05:41 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (6.0ms)
  Rendered home/_chats_index.html.erb (1.2ms)
  Rendered home/profile.html.erb within layouts/application (15.1ms)
Completed 200 OK in 72ms (Views: 63.7ms | ActiveRecord: 2.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:41 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:05:41 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:41 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/gift_list?id=2&list_type=1" for 127.0.0.1 at 2018-06-08 22:05:45 +0200
Processing by AdsController#gift as HTML
  Parameters: {"id"=>"2", "list_type"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/gift.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered _ads_list.html.erb (4.9ms)
  Rendered ads/gift.html.erb within layouts/application (7.9ms)
Completed 200 OK in 59ms (Views: 51.3ms | ActiveRecord: 1.3ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 22:05:47 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (6.1ms)
  Rendered home/_chats_index.html.erb (1.3ms)
  Rendered home/profile.html.erb within layouts/application (15.7ms)
Completed 200 OK in 68ms (Views: 58.9ms | ActiveRecord: 2.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:47 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:05:47 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:47 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/wish_list?id=2&list_type=0" for 127.0.0.1 at 2018-06-08 22:05:47 +0200
Processing by AdsController#wish as HTML
  Parameters: {"id"=>"2", "list_type"=>"0"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/wish.html.erb within layouts/application
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 0]]
  Rendered _ads_list.html.erb (2.0ms)
  Rendered ads/wish.html.erb within layouts/application (5.0ms)
Completed 200 OK in 58ms (Views: 51.4ms | ActiveRecord: 1.0ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 22:05:49 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (5.8ms)
  Rendered home/_chats_index.html.erb (1.3ms)
  Rendered home/profile.html.erb within layouts/application (15.1ms)
Completed 200 OK in 65ms (Views: 56.3ms | ActiveRecord: 2.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:49 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:05:49 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:49 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/gift_list?id=2&list_type=1" for 127.0.0.1 at 2018-06-08 22:05:50 +0200
Processing by AdsController#gift as HTML
  Parameters: {"id"=>"2", "list_type"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/gift.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered _ads_list.html.erb (4.3ms)
  Rendered ads/gift.html.erb within layouts/application (7.2ms)
Completed 200 OK in 63ms (Views: 56.3ms | ActiveRecord: 1.3ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 22:05:52 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (6.0ms)
  Rendered home/_chats_index.html.erb (1.1ms)
  Rendered home/profile.html.erb within layouts/application (14.7ms)
Completed 200 OK in 63ms (Views: 55.7ms | ActiveRecord: 2.2ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:52 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:05:52 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:05:52 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/gift_list?id=2&list_type=1" for 127.0.0.1 at 2018-06-08 22:05:56 +0200
Processing by AdsController#gift as HTML
  Parameters: {"id"=>"2", "list_type"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering ads/gift.html.erb within layouts/application
  [1m[36mAd Load (0.5ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 2], ["list_type", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered _ads_list.html.erb (4.3ms)
  Rendered ads/gift.html.erb within layouts/application (7.3ms)
Completed 200 OK in 57ms (Views: 49.5ms | ActiveRecord: 1.2ms)


Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 22:06:00 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (5.6ms)
  Rendered home/_chats_index.html.erb (1.1ms)
  Rendered home/profile.html.erb within layouts/application (14.4ms)
Completed 200 OK in 63ms (Views: 55.7ms | ActiveRecord: 2.3ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:00 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:06:00 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:00 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/notifications" for 127.0.0.1 at 2018-06-08 22:06:02 +0200
Processing by NotificationsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mNotification Load (0.3ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."user_id" = $1[0m  [["user_id", 2]]
  Rendering notifications/index.html.erb within layouts/application
  Rendered _ads_list.html.erb (1.1ms)
  Rendered notifications/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 53ms (Views: 46.5ms | ActiveRecord: 0.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:02 +0200
MailboxChannel stopped streaming from mailbox_2
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:06:03 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:03 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/users/profile/2" for 127.0.0.1 at 2018-06-08 22:06:04 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 2 OR guest_id = 2)[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered home/_chat.html.erb (6.2ms)
  Rendered home/_chats_index.html.erb (1.2ms)
  Rendered home/profile.html.erb within layouts/application (15.7ms)
Completed 200 OK in 71ms (Views: 62.9ms | ActiveRecord: 2.6ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:04 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:06:04 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:04 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_2
Started GET "/profile/wish_list?id=3&list_type=1" for 127.0.0.1 at 2018-06-08 22:06:20 +0200
Processing by AdsController#wish as HTML
  Parameters: {"id"=>"3", "list_type"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering ads/wish.html.erb within layouts/application
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."list_type" = $2[0m  [["user_id", 3], ["list_type", 1]]
  Rendered _ads_list.html.erb (2.1ms)
  Rendered ads/wish.html.erb within layouts/application (5.1ms)
Completed 200 OK in 56ms (Views: 49.4ms | ActiveRecord: 0.9ms)


Started GET "/users/profile/3" for 127.0.0.1 at 2018-06-08 22:06:22 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering home/profile.html.erb within layouts/application
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 3 OR guest_id = 3)[0m
  Rendered home/_chat.html.erb (1.7ms)
  Rendered home/_chats_index.html.erb (0.7ms)
  Rendered home/profile.html.erb within layouts/application (11.1ms)
Completed 200 OK in 62ms (Views: 55.2ms | ActiveRecord: 1.1ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:22 +0200
MailboxChannel stopped streaming from mailbox_3
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:06:22 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:22 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_3
Started GET "/books_results?utf8=%E2%9C%93&search%5B%5D=la+fine+dell%27eternit%C3%A0&commit=Search" for 127.0.0.1 at 2018-06-08 22:06:29 +0200
Processing by HomeController#books_results as HTML
  Parameters: {"utf8"=>"✓", "search"=>["la fine dell'eternità"], "commit"=>"Search"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering home/books_results.html.erb within layouts/application
  Rendered home/books_results.html.erb within layouts/application (39.0ms)
Completed 200 OK in 992ms (Views: 87.8ms | ActiveRecord: 0.5ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:30 +0200
MailboxChannel stopped streaming from mailbox_3
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:06:30 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:30 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started POST "/ads?book%5Bid%5D%5BaccessInfo%5D%5BaccessViewStatus%5D=NONE&book%5Bid%5D%5BaccessInfo%5D%5Bcountry%5D=IT&book%5Bid%5D%5BaccessInfo%5D%5Bembeddable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5Bepub%5D%5BisAvailable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5Bpdf%5D%5BisAvailable%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BpublicDomain%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BquoteSharingAllowed%5D=false&book%5Bid%5D%5BaccessInfo%5D%5BtextToSpeechPermission%5D=ALLOWED&book%5Bid%5D%5BaccessInfo%5D%5Bviewability%5D=NO_PAGES&book%5Bid%5D%5BaccessInfo%5D%5BwebReaderLink%5D=http%3A%2F%2Fplay.google.com%2Fbooks%2Freader%3Fid%3DGL2pAAAACAAJ%26hl%3D%26printsec%3Dfrontcover%26source%3Dgbs_api&book%5Bid%5D%5Betag%5D=sSqNp%2Fa%2F078&book%5Bid%5D%5Bid%5D=GL2pAAAACAAJ&book%5Bid%5D%5Bkind%5D=books%23volume&book%5Bid%5D%5BsaleInfo%5D%5Bcountry%5D=IT&book%5Bid%5D%5BsaleInfo%5D%5BisEbook%5D=false&book%5Bid%5D%5BsaleInfo%5D%5Bsaleability%5D=NOT_FOR_SALE&book%5Bid%5D%5BselfLink%5D=https%3A%2F%2Fwww.googleapis.com%2Fbooks%2Fv1%2Fvolumes%2FGL2pAAAACAAJ&book%5Bid%5D%5BvolumeInfo%5D%5BallowAnonLogging%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5Bauthors%5D%5B%5D=Isaac+Asimov&book%5Bid%5D%5BvolumeInfo%5D%5BaverageRating%5D=4.5&book%5Bid%5D%5BvolumeInfo%5D%5BcanonicalVolumeLink%5D=https%3A%2F%2Fbooks.google.com%2Fbooks%2Fabout%2FLa_fine_dell_eternit%25C3%25A0.html%3Fhl%3D%26id%3DGL2pAAAACAAJ&book%5Bid%5D%5BvolumeInfo%5D%5Bcategories%5D%5B%5D=Fiction&book%5Bid%5D%5BvolumeInfo%5D%5BcontentVersion%5D=preview-1.0.0&book%5Bid%5D%5BvolumeInfo%5D%5BimageLinks%5D%5BsmallThumbnail%5D=http%3A%2F%2Fbooks.google.com%2Fbooks%2Fcontent%3Fid%3DGL2pAAAACAAJ%26printsec%3Dfrontcover%26img%3D1%26zoom%3D5%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BimageLinks%5D%5Bthumbnail%5D=http%3A%2F%2Fbooks.google.com%2Fbooks%2Fcontent%3Fid%3DGL2pAAAACAAJ%26printsec%3Dfrontcover%26img%3D1%26zoom%3D1%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Bidentifier%5D=8804414510&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Btype%5D=ISBN_10&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Bidentifier%5D=9788804414513&book%5Bid%5D%5BvolumeInfo%5D%5BindustryIdentifiers%5D%5B%5D%5Btype%5D=ISBN_13&book%5Bid%5D%5BvolumeInfo%5D%5BinfoLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%3Fid%3DGL2pAAAACAAJ%26dq%3Dla%2Bfine%2Bdell%2527eternit%25C3%25A0%26hl%3D%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5Blanguage%5D=it&book%5Bid%5D%5BvolumeInfo%5D%5BmaturityRating%5D=NOT_MATURE&book%5Bid%5D%5BvolumeInfo%5D%5BpageCount%5D=238&book%5Bid%5D%5BvolumeInfo%5D%5BpanelizationSummary%5D%5BcontainsEpubBubbles%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BpanelizationSummary%5D%5BcontainsImageBubbles%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BpreviewLink%5D=http%3A%2F%2Fbooks.google.it%2Fbooks%3Fid%3DGL2pAAAACAAJ%26dq%3Dla%2Bfine%2Bdell%2527eternit%25C3%25A0%26hl%3D%26cd%3D1%26source%3Dgbs_api&book%5Bid%5D%5BvolumeInfo%5D%5BprintType%5D=BOOK&book%5Bid%5D%5BvolumeInfo%5D%5BpublishedDate%5D=1996&book%5Bid%5D%5BvolumeInfo%5D%5Bpublisher%5D=Oscar+bestsellers&book%5Bid%5D%5BvolumeInfo%5D%5BratingsCount%5D=4&book%5Bid%5D%5BvolumeInfo%5D%5BreadingModes%5D%5Bimage%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5BreadingModes%5D%5Btext%5D=false&book%5Bid%5D%5BvolumeInfo%5D%5Btitle%5D=La+fine+dell%27eternit%C3%A0&book%5Blist_type%5D=0" for 127.0.0.1 at 2018-06-08 22:06:38 +0200
Processing by AdsController#create as HTML
  Parameters: {"authenticity_token"=>"/0CnFouWEulphA4QmDGF0HtzZv/KvZQ+a9zB1Pq1IX2ItnpUWL70QABB+8YN8TybG31vU/Lv99D0sIJHlSwvmw==", "book"=>{"id"=>{"accessInfo"=>{"accessViewStatus"=>"NONE", "country"=>"IT", "embeddable"=>"false", "epub"=>{"isAvailable"=>"false"}, "pdf"=>{"isAvailable"=>"false"}, "publicDomain"=>"false", "quoteSharingAllowed"=>"false", "textToSpeechPermission"=>"ALLOWED", "viewability"=>"NO_PAGES", "webReaderLink"=>"http://play.google.com/books/reader?id=GL2pAAAACAAJ&hl=&printsec=frontcover&source=gbs_api"}, "etag"=>"sSqNp/a/078", "id"=>"GL2pAAAACAAJ", "kind"=>"books#volume", "saleInfo"=>{"country"=>"IT", "isEbook"=>"false", "saleability"=>"NOT_FOR_SALE"}, "selfLink"=>"https://www.googleapis.com/books/v1/volumes/GL2pAAAACAAJ", "volumeInfo"=>{"allowAnonLogging"=>"false", "authors"=>["Isaac Asimov"], "averageRating"=>"4.5", "canonicalVolumeLink"=>"https://books.google.com/books/about/La_fine_dell_eternit%C3%A0.html?hl=&id=GL2pAAAACAAJ", "categories"=>["Fiction"], "contentVersion"=>"preview-1.0.0", "imageLinks"=>{"smallThumbnail"=>"http://books.google.com/books/content?id=GL2pAAAACAAJ&printsec=frontcover&img=1&zoom=5&source=gbs_api", "thumbnail"=>"http://books.google.com/books/content?id=GL2pAAAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api"}, "industryIdentifiers"=>[{"identifier"=>"8804414510", "type"=>"ISBN_10"}, {"identifier"=>"9788804414513", "type"=>"ISBN_13"}], "infoLink"=>"http://books.google.it/books?id=GL2pAAAACAAJ&dq=la+fine+dell%27eternit%C3%A0&hl=&source=gbs_api", "language"=>"it", "maturityRating"=>"NOT_MATURE", "pageCount"=>"238", "panelizationSummary"=>{"containsEpubBubbles"=>"false", "containsImageBubbles"=>"false"}, "previewLink"=>"http://books.google.it/books?id=GL2pAAAACAAJ&dq=la+fine+dell%27eternit%C3%A0&hl=&cd=1&source=gbs_api", "printType"=>"BOOK", "publishedDate"=>"1996", "publisher"=>"Oscar bestsellers", "ratingsCount"=>"4", "readingModes"=>{"image"=>"false", "text"=>"false"}, "title"=>"La fine dell'eternità"}}, "list_type"=>"0"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE "ads"."user_id" = $1 AND "ads"."google_id" = $2 AND "ads"."list_type" = $3[0m  [["user_id", 3], ["google_id", "GL2pAAAACAAJ"], ["list_type", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "vincenzo"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ads" ("list_type", "book_title", "book_authors", "link_to_coverbook", "publisher", "identifier", "user_id", "created_at", "updated_at", "google_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["list_type", 0], ["book_title", "La fine dell'eternità"], ["book_authors", "[\"Isaac Asimov\"]"], ["link_to_coverbook", "http://books.google.com/books/content?id=GL2pAAAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api"], ["publisher", "Oscar bestsellers"], ["identifier", "[\"ISBN_10\", \"8804414510\"]"], ["user_id", 3], ["created_at", "2018-06-08 20:06:38.510031"], ["updated_at", "2018-06-08 20:06:38.510031"], ["google_id", "GL2pAAAACAAJ"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users/profile/3
[ActiveJob] Enqueued CreateNotificationsJob (Job ID: 56d538d1-e8e6-4334-99d9-131b277e6766) to Async(default) with arguments: #<GlobalID:0x00007fc315627570 @uri=#<URI::GID gid://flealibrary/Ad/4>>
Completed 302 Found in 21ms (ActiveRecord: 4.9ms)


  [1m[36mAd Load (0.9ms)[0m  [1m[34mSELECT  "ads".* FROM "ads" WHERE "ads"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766] Performing CreateNotificationsJob (Job ID: 56d538d1-e8e6-4334-99d9-131b277e6766) from Async(default) with arguments: #<GlobalID:0x00007fc31560f8f8 @uri=#<URI::GID gid://flealibrary/Ad/4>>
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[36mAd Load (0.6ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE (LOWER(book_title) = 'la fine dell''eternità' AND id != 4)[0m
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/users/profile/3" for 127.0.0.1 at 2018-06-08 22:06:38 +0200
Processing by HomeController#profile as HTML
  Parameters: {"id"=>"3"}
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "notifications" ("created_at", "updated_at", "user_id", "ad_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2018-06-08 20:06:38.536710"], ["updated_at", "2018-06-08 20:06:38.536710"], ["user_id", 3], ["ad_id", 1]]
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering home/profile.html.erb within layouts/application
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE (owner_id = 3 OR guest_id = 3)[0m
  Rendered home/_chat.html.erb (2.3ms)
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "notifications" ("created_at", "updated_at", "user_id", "ad_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2018-06-08 20:06:38.558564"], ["updated_at", "2018-06-08 20:06:38.558564"], ["user_id", 2], ["ad_id", 4]]
  Rendered home/_chats_index.html.erb (0.6ms)
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766]   [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  Rendered home/profile.html.erb within layouts/application (11.9ms)
[ActiveJob] [CreateNotificationsJob] [56d538d1-e8e6-4334-99d9-131b277e6766] Performed CreateNotificationsJob (Job ID: 56d538d1-e8e6-4334-99d9-131b277e6766) from Async(default) in 46.36ms
Completed 200 OK in 71ms (Views: 53.8ms | ActiveRecord: 3.0ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:38 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:06:38 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:38 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_3
Started GET "/notifications" for 127.0.0.1 at 2018-06-08 22:06:40 +0200
Processing by NotificationsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mNotification Load (0.3ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mAd Load (0.2ms)[0m  [1m[34mSELECT  "ads".* FROM "ads" WHERE "ads"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notifications/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered _ads_list.html.erb (2.4ms)
  Rendered notifications/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 56ms (Views: 48.1ms | ActiveRecord: 1.2ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:40 +0200
MailboxChannel stopped streaming from mailbox_3
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:06:40 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:06:40 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
Started GET "/" for 127.0.0.1 at 2018-06-08 22:07:01 +0200
Processing by HomeController#welcome as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mAd Load (0.3ms)[0m  [1m[34mSELECT "ads".* FROM "ads" WHERE ("ads"."user_id" != $1)[0m  [["user_id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering home/welcome.html.erb within layouts/application
  [1m[36mAd Load (0.4ms)[0m  [1m[34mSELECT "ads".* FROM "ads"[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered home/welcome.html.erb within layouts/application (5.4ms)
Completed 200 OK in 2263ms (Views: 56.8ms | ActiveRecord: 1.7ms)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:07:03 +0200
MailboxChannel stopped streaming from mailbox_
Started GET "/cable" for 127.0.0.1 at 2018-06-08 22:07:03 +0200
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-06-08 22:07:03 +0200
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
MailboxChannel is transmitting the subscription confirmation
MailboxChannel is streaming from mailbox_
